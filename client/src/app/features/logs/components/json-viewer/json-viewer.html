<div class="json-viewer">
  <div class="json-viewer__header">
    <span class="json-viewer__title">{{ title }}</span>
    <div class="json-viewer__actions" *ngIf="hasData">
      <button class="json-viewer__copy-btn" (click)="copyJson()">
        ðŸ“‹ Copy
      </button>
      <button class="json-viewer__copy-btn" (click)="toggleRaw()">
        {{ showRaw ? 'Formatted' : 'Raw' }}
      </button>
    </div>
  </div>

  <div
    class="json-viewer__content"
    [class.json-viewer__content--expanded]="isExpanded"
    [class.json-viewer__content--empty]="!hasData"
  >
    <div *ngIf="!hasData" class="json-viewer__empty">
      <span class="json-viewer__empty-icon">ðŸ“­</span>
      <span class="json-viewer__empty-text">No output</span>
    </div>
    <pre *ngIf="hasData && !showRaw" [innerHTML]="formattedJson"></pre>
    <pre *ngIf="hasData && showRaw">{{ rawJson }}</pre>
  </div>

  <div class="json-viewer__expand" *ngIf="hasData && needsExpansion && !isExpanded">
    <button (click)="expand()">Show More</button>
  </div>
</div>
